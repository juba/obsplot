<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create Charts with Observable Plot • obsplot</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Create Charts with Observable Plot">
<meta property="og:description" content="Creation of charts with the Observable Plot JavaScript library.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">obsplot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/introduction.html">Introduction to obsplot</a>
    </li>
    <li>
      <a href="articles/gallery_marks.html">obsplot Gallery : marks</a>
    </li>
    <li>
      <a href="articles/gallery_transforms.html">obsplot Gallery : facets and transforms</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/juba/obsplot/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div id="obsplot" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#obsplot" class="anchor"></a>Obsplot</h1></div>
<p><code>obsplot</code> is an experimental attempt at using <a href="https://observablehq.com/@observablehq/plot">Observable Plot</a> directly from R.</p>
<p>Please note that the package is in an early stage. Its API is subject to breaking changes, there are bugs, and maybe bad design choices. But if you still want to try the package, issues and feedback are very welcome !</p>
<p>Also note that <code>obsplot</code> doesn’t work in the RStudio viewer for now on, due to an outdated web rendering engine. You can either open the visualisation in a recent browser, or use <a href="https://github.com/REditorSupport/vscode-R">R in VSCode</a>.</p>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<p>Here is a small example of a simple scatterplot from the <code>penguins</code> dataset of the <code>palmerpenguins</code> package :</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://allisonhorst.github.io/palmerpenguins/">palmerpenguins</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">penguins</span><span class="op">)</span>

<span class="fu"><a href="reference/obsplot.html">obsplot</a></span><span class="op">(</span><span class="va">penguins</span><span class="op">)</span> |&gt;
    <span class="fu"><a href="reference/mark_area.html">mark_dot</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"bill_length_mm"</span>, y <span class="op">=</span> <span class="st">"bill_depth_mm"</span>, stroke <span class="op">=</span> <span class="st">"sex"</span><span class="op">)</span> |&gt;
    <span class="fu"><a href="reference/opts.html">opts</a></span><span class="op">(</span>grid <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/readme_scatter.png" alt="Simple scatterplot"></p>
<p>And here is a much more complex example taken from Observable Plot documentation :</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">stateage</span><span class="op">)</span>

<span class="va">xy</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/transform_normalizeX.html">transform_normalizeX</a></span><span class="op">(</span>basis <span class="op">=</span> <span class="st">"sum"</span>, z <span class="op">=</span> <span class="st">"name"</span>, x <span class="op">=</span> <span class="st">"population"</span>, y <span class="op">=</span> <span class="st">"name"</span><span class="op">)</span>

<span class="fu"><a href="reference/obsplot.html">obsplot</a></span><span class="op">(</span><span class="va">stateage</span>, height <span class="op">=</span> <span class="fl">660</span><span class="op">)</span> |&gt;
    <span class="fu"><a href="reference/mark_area.html">mark_ruleX</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> |&gt;
    <span class="fu"><a href="reference/mark_area.html">mark_ruleY</a></span><span class="op">(</span>
        <span class="fu"><a href="reference/transform_bin.html">transform_groupY</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>x1 <span class="op">=</span> <span class="st">"min"</span>, x2 <span class="op">=</span> <span class="st">"max"</span><span class="op">)</span>, <span class="va">xy</span><span class="op">)</span>
    <span class="op">)</span> |&gt;
    <span class="fu"><a href="reference/mark_area.html">mark_dot</a></span><span class="op">(</span><span class="va">xy</span>, fill <span class="op">=</span> <span class="st">"age"</span>, title <span class="op">=</span> <span class="st">"age"</span><span class="op">)</span> |&gt;
    <span class="fu"><a href="reference/mark_area.html">mark_text</a></span><span class="op">(</span>
        <span class="fu"><a href="reference/transform_normalizeX.html">transform_selectMinX</a></span><span class="op">(</span><span class="va">xy</span><span class="op">)</span>, textAnchor <span class="op">=</span> <span class="st">"end"</span>, dx <span class="op">=</span> <span class="op">-</span><span class="fl">6</span>, text <span class="op">=</span> <span class="st">"name"</span>
    <span class="op">)</span> |&gt;
    <span class="fu"><a href="reference/scale_color.html">scale_x</a></span><span class="op">(</span>
        axis <span class="op">=</span> <span class="st">"top"</span>,   label <span class="op">=</span>  <span class="st">"Percent (%) →"</span>, 
        transform <span class="op">=</span> <span class="fu">JS</span><span class="op">(</span><span class="st">"d =&gt; d * 100"</span><span class="op">)</span>
    <span class="op">)</span> |&gt;
    <span class="fu"><a href="reference/scale_color.html">scale_y</a></span><span class="op">(</span>axis <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> |&gt;
    <span class="fu"><a href="reference/scale_color.html">scale_color</a></span><span class="op">(</span>scheme <span class="op">=</span> <span class="st">"spectral"</span>, domain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">stateage</span><span class="op">$</span><span class="va">age</span><span class="op">)</span><span class="op">)</span> |&gt;
    <span class="fu"><a href="reference/opts.html">opts</a></span><span class="op">(</span>grid <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/readme_stateage.png" alt="stateage example"></p>
<p>You will find many more examples in the two gallery vignettes :</p>
<ul>
<li><a href="https://juba.github.io/obsplot/articles/gallery_marks.html">marks gallery</a></li>
<li><a href="https://juba.github.io/obsplot/articles/gallery_transforms.html">facets and transforms gallery</a></li>
</ul>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>To get started, take a look at the <a href="https://juba.github.io/obsplot/articles/introduction.html">introduction vignette</a>.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>From Github :</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"juba/obsplot"</span><span class="op">)</span></code></pre></div>
<p>From <a href="https://r-universe.dev/organizations/">R-universe</a> :</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"obsplot"</span>, repos <span class="op">=</span> <span class="st">"https://juba.r-universe.dev"</span><span class="op">)</span></code></pre></div>
</div>
<div id="credits" class="section level2">
<h2 class="hasAnchor">
<a href="#credits" class="anchor"></a>Credits</h2>
<ul>
<li>Obviously, the <a href="https://observablehq.com/@observablehq/plot">Observable Plot</a> library developed by <a href="https://observablehq.com/@mbostock">Mike Bostock</a> and <a href="https://observablehq.com/@fil/">Philippe Rivière</a> at <a href="https://observablehq.com/">Observable</a>.</li>
<li>The <a href="https://www.htmlwidgets.org/">htmlwidgets</a> package, which does all the heavy work to bridge R and JavaScript.</li>
<li>
<a href="https://twitter.com/jdatap">John Coene</a> for the <a href="https://github.com/JohnCoene/packer">packer</a> package, the <a href="https://book.javascript-for-r.com/">JavaScript for R</a> book and the <a href="https://github.com/devOpifex/g2r/">g2r</a> package which is a great source of inspiration.</li>
</ul>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/juba/obsplot/">https://​github.com/​juba/​obsplot/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/juba/obsplot/issues">https://​github.com/​juba/​obsplot/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;=3)</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Julien Barnier <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-experimental-red.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/juba/obsplot/actions"><img src="https://github.com/juba/obsplot/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Julien Barnier.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
